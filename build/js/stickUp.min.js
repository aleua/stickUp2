!function(t,o,e){var s=function(s,n){var i,r=0,p=0,a="",f=0,c=!1,g=!1,l=!1,u=0,m=0,h=0,d=0,I=0,b=0,k=0,H=t(),v=0,x=0,w=!1,y=!1,W=t('<div style="margin-top:0;margin-bottom:0; padding:0"></div>'),z=t(),M={top:0,bottom:0,custom:[]},S={scrollHide:!1,lazyHeight:0,topMargin:"auto",keepInWrapper:!1,wrapperSelector:"",zIndex:99,syncPosition:!1},T=function(){return"auto"===S.topMargin?parseInt(H.css("marginTop")):isNaN(S.topMargin)&&S.topMargin.search("px")>0?parseInt(S.topMargin.replace("px","")):isNaN(parseInt(S.topMargin))?0:parseInt(S.topMargin)},P=function(){W.remove(),H.removeClass("isStuck").css({maxWidth:"",marginTop:"",marginLeft:"",marginRight:"",position:"",top:"",left:"",right:"",bottom:"",width:""}),c=!1,g=!1,l=!1,S.syncPosition&&E()},C=function(t){H.before(W.css("height",m));var o=W.offsetParent();if(t){H.css({position:"absolute"});var e=z.offset().top+z.outerHeight()-o.offset().top-h-parseInt(z.css("paddingBottom"))}H.css({position:"absolute",marginTop:v,bottom:"",left:W.position().left,top:t?e:H.offset().top-o.offset().top-v})},N=function(){c=!0,H.before(W.css("height",m)),H.addClass("isStuck");var t=-x;H.css({marginTop:v,position:"fixed",top:t+"px",left:"",right:"",bottom:""})},B=function(){H.before(W.css("height",m)),H.addClass("isStuck");var t=-x;H.css({marginTop:v,position:"fixed",top:"",left:"",right:"",bottom:t})},U=function(){W.width()!==H.outerWidth()&&H.outerWidth(W.outerWidth())},j=function(){i=W.offset().left,i!==H.offset().left,H.offset({left:i})},E=function(){W.css({"margin-left":H.css("margin-left"),"margin-right":H.css("margin-left")}),H.css({"margin-left":W.css("margin-left"),"margin-right":W.css("margin-right")})},L=function(s){if(p=t(s.target).scrollTop(),a=p>=r?"down":"up",f=Math.abs(r-p),d=t(o).outerHeight(),I=p+d,r=p,b=H.offset().top,u=parseInt(H.outerHeight()+v)+parseInt(H.css("marginBottom")),c||l||g||(m=parseInt(H.outerHeight(!0)),M.top=g||l?parseInt(W.offset().top):parseInt(H.offset().top),i=parseInt(H.offset().left)+5),h=parseInt(H.outerHeight())+parseInt(H.css("margin-bottom"))+v,M.bottom=S.keepInWrapper?z.offset().top+z.outerHeight()-parseInt(z.css("paddingBottom")):t(e).outerHeight(),k=H.offset().top+h,u>d)y=!0,w&&(C(),w=!1),l&&"up"===a&&b-v>=p&&(N(),c=!0,g=!1,l=!1),!c&&!g&&(!S.keepInWrapper||S.keepInWrapper&&I<=M.bottom)&&I>=k-v&&(B(),g=!0,c=!0,l=!1),(!l&&c&&g&&"up"===a||!l&&c&&!g&&"down"===a&&k>=I)&&(C(),c=!1,g=!1,l=!0),I>=M.bottom&&S.keepInWrapper&&(!g&&!l||parseInt(k-v)!==parseInt(M.bottom))&&(C(!0),c=!1,g=!0,l=!0);else if(w=!0,y&&(C(),y=!1),x=S.scrollHide?u+S.lazyHeight:+S.lazyHeight,(!c&&!g&&p>=M.top-v+x||g&&l&&b-v+x>=p)&&(N(),c=!0,g=!1,l=!1),S.keepInWrapper&&parseInt(k-v)!==parseInt(M.bottom)&&p>=M.bottom-h+x&&(C(!0),c=!1,g=!0,l=!0),c){var n=parseInt(H.css("top"));if("up"===a&&0!==n){var T=f>-n?0:n+f;H.css("top",T+"px")}else if("down"===a&&n>-x){var T=f>x+n?-x:n-f;H.css("top",T+"px")}}(c||l||g)&&p<=M.top-v&&P(),(c||l||g)&&U(),(S.syncPosition&&c||l)&&j()},Q=function(t){l&&C(),L(t)},R=function(s,n){H=t(s),H.addClass("stuckElement"),n&&t.extend(!0,S,n),v=null!=S.topMargin?T():0,S.lazyHeight&&(v+=S.lazyHeight),S.keepInWrapper?(""!==S.wrapperSelector&&(z=H.closest(S.wrapperSelector)),z.length||(z=H.offsetParent())):z=t("body"),S.zIndex&&H.css("z-index",S.zIndex),j&&E(),t(e).on("scroll.stickUp",L),t(o).on("resize.stickUp",Q),L({target:e})};R.call(this,s,n)};t.fn.stickUp=function(t){return this.each(function(){new s(this,t)})}}(jQuery,window,document);