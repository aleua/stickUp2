!function(t,o,e){var s=function(s,n){var r,i=0,p=0,a="",c=0,f=!1,g=!1,l=!1,m=0,u=0,d=0,h=0,I=0,b=0,k=0,v=t(),x=0,w=0,W=!1,H=!1,M=t('<div style="margin-top:0;margin-bottom:0; padding:0"></div>'),y=t(),z={top:0,bottom:0,custom:[]},B={scrollHide:!1,topMargin:"auto",keepInWrapper:!1,wrapperSelector:"",zIndex:99,syncPosition:!1},S=function(){return"auto"===B.topMargin?parseInt(v.css("marginTop")):isNaN(B.topMargin)&&B.topMargin.search("px")>0?parseInt(B.topMargin.replace("px","")):isNaN(parseInt(B.topMargin))?(console.log("incorrect argument, ignored."),0):parseInt(B.topMargin)},T=function(){M.remove(),v.removeClass("isStuck").css({maxWidth:"",marginTop:"",marginLeft:"",marginRight:"",position:"",top:"",left:"",right:"",bottom:"",width:""}),f=!1,g=!1,l=!1,B.syncPosition&&A()},P=function(t){v.before(M.css("height",u));var o=M.offsetParent();if(t)var e=y.offset().top+y.outerHeight()-o.offset().top-d-parseInt(y.css("paddingBottom"));v.css({marginTop:x,position:"absolute",bottom:"",left:M.position().left,top:t?e:v.offset().top-o.offset().top-x})},C=function(){f=!0,v.before(M.css("height",u)),v.addClass("isStuck");var t=-w;v.css({marginTop:x,position:"fixed",top:t+"px",left:"",right:"",bottom:""})},N=function(){v.before(M.css("height",u)),v.addClass("isStuck");var t=-w;v.css({marginTop:x,position:"fixed",top:"",left:"",right:"",bottom:t})},U=function(){M.width()!==v.outerWidth()&&v.outerWidth(M.outerWidth())},j=function(){r=M.offset().left,r!==v.offset().left,v.offset({left:r})},A=function(){M.css({"margin-left":v.css("margin-left"),"margin-right":v.css("margin-left")}),v.css({"margin-left":M.css("margin-left"),"margin-right":M.css("margin-right")})},E=function(s){if(p=t(s.target).scrollTop(),a=p>=i?"down":"up",c=Math.abs(i-p),h=t(o).outerHeight(),I=p+h,i=p,b=v.offset().top,m=parseInt(v.outerHeight()+x)+parseInt(v.css("marginBottom")),f||l||g||(u=parseInt(v.outerHeight(!0)),z.top=g||l?parseInt(M.offset().top):parseInt(v.offset().top),r=parseInt(v.offset().left)+5),d=parseInt(v.outerHeight())+parseInt(v.css("margin-bottom"))+x,z.bottom=B.keepInWrapper?y.offset().top+y.outerHeight()-parseInt(y.css("paddingBottom")):t(e).outerHeight(),k=v.offset().top+d,m>h)H=!0,W&&(P(),W=!1),l&&"up"===a&&b-x>=p&&(console.log("sticktop"),C(),f=!0,g=!1,l=!1),!f&&!g&&(!B.keepInWrapper||B.keepInWrapper&&I<=z.bottom)&&I>=k-x&&(console.log("stickAtBottom"),N(),g=!0,f=!0,l=!1),(!l&&f&&g&&"up"===a||!l&&f&&!g&&"down"===a&&k>=I)&&(console.log("holdIt"),P(),f=!1,g=!1,l=!0),I>=z.bottom&&B.keepInWrapper&&(!g&&!l||parseInt(k-x)!==parseInt(z.bottom))&&(console.log("forceBottom"),P(!0),f=!1,g=!0,l=!0);else{if(W=!0,H&&(P(),H=!1),B.scrollHide&&(w=m,f)){var n=parseInt(v.css("top")),S=m;if("up"===a){var A=c>-n?0:n+c;v.css("top",A+"px")}else if("down"===a&&n>-S){var A=c>S+n?-S:n-c;v.css("top",A+"px")}}(!f&&!g&&p>=z.top-x+w||g&&l&&b-x>=p)&&(console.log("sticktop"),C(),f=!0,g=!1,l=!1),B.keepInWrapper&&parseInt(k-x)!==parseInt(z.bottom)&&p>=z.bottom-d+w&&(console.log("forceBottom p"),P(!0),f=!1,g=!0,l=!0)}(f||l||g)&&p<=z.top-x&&(console.log("unstick"),T()),(f||l||g)&&U(),(B.syncPosition&&f||l)&&j()},L=function(t){l&&P(),console.log("reize"),E(t)},Q=function(s,n){v=t(s),v.addClass("stuckElement"),n&&t.extend(!0,B,n),x=null!=B.topMargin?S():0,B.keepInWrapper?(""!==B.wrapperSelector&&(y=v.closest(B.wrapperSelector)),y.length||(y=v.offsetParent())):y=t("body"),B.zIndex&&v.css("z-index",B.zIndex),j&&A(),t(e).on("scroll.stickUp",E),t(o).on("resize.stickUp",L),E({target:e})};Q.call(this,s,n)};t.fn.stickUp=function(t){return this.each(function(){new s(this,t)})}}(jQuery,window,document);