!function(t,o,e){var s=function(s,n){var r,i=0,p=0,a="",c=0,f=!1,g=!1,l=!1,m=0,u=0,d=0,h=0,I=0,b=0,k=0,v=t(),x=0,w=0,W=!1,H=!1,M=t('<div style="margin-top:0;margin-bottom:0; padding:0"></div>'),y=t(),B={top:0,bottom:0,custom:[]},z={scrollHide:!1,topMargin:"auto",keepInWrapper:!1,wrapperSelector:"",zIndex:99,syncPosition:!1},S=function(){return"auto"===z.topMargin?parseInt(v.css("marginTop")):isNaN(z.topMargin)&&z.topMargin.search("px")>0?parseInt(z.topMargin.replace("px","")):isNaN(parseInt(z.topMargin))?(console.log("incorrect argument, ignored."),0):parseInt(z.topMargin)},T=function(){M.remove(),v.removeClass("isStuck").css({maxWidth:"",marginTop:"",marginLeft:"",marginRight:"",position:"",top:"",left:"",right:"",bottom:"",width:""}),f=!1,g=!1,l=!1,z.syncPosition&&A()},P=function(t){v.before(M.css("height",u));var o=M.offsetParent();if(t)var e=y.offset().top+y.outerHeight()-o.offset().top-d-parseInt(y.css("paddingBottom"));v.css({marginTop:x,position:"absolute",bottom:"",left:M.position().left,top:t?e:v.offset().top-o.offset().top-x})},C=function(){f=!0,v.before(M.css("height",u)),v.addClass("isStuck");var t=-w;v.css({marginTop:x,position:"fixed",top:t+"px",left:"",right:"",bottom:""})},N=function(){v.before(M.css("height",u)),v.addClass("isStuck");var t=-w;v.css({marginTop:x,position:"fixed",top:"",left:"",right:"",bottom:t})},U=function(){M.width()!==v.outerWidth()&&v.outerWidth(M.outerWidth())},j=function(){r=M.offset().left,r!==v.offset().left,v.offset({left:r})},A=function(){M.css({"margin-left":v.css("margin-left"),"margin-right":v.css("margin-left")}),v.css({"margin-left":M.css("margin-left"),"margin-right":M.css("margin-right")})},E=function(e){if(p=t(e.target).scrollTop(),a=p>=i?"down":"up",c=Math.abs(i-p),h=t(o).outerHeight(),I=p+h,i=p,b=v.offset().top,m=parseInt(v.outerHeight()+x)+parseInt(v.css("marginBottom")),f||l||g||(u=parseInt(v.outerHeight(!0)),B.top=g||l?parseInt(M.offset().top):parseInt(v.offset().top),r=parseInt(v.offset().left)+5),d=parseInt(v.outerHeight())+parseInt(v.css("margin-bottom"))+x,B.bottom=z.keepInWrapper?y.offset().top+y.outerHeight()-parseInt(y.css("paddingBottom")):t("body").outerHeight().top-t("body").css("paddingBottom"),k=v.offset().top+d,m>h)H=!0,W&&(P(),W=!1),l&&"up"===a&&b-x>=p&&(console.log("sticktop"),C(),f=!0,g=!1,l=!1),!f&&!g&&(!z.keepInWrapper||z.keepInWrapper&&I<=B.bottom)&&I>=k-x&&(console.log("stickAtBottom"),N(),g=!0,f=!0,l=!1),(!l&&f&&g&&"up"===a||!l&&f&&!g&&"down"===a&&k>=I)&&(console.log("holdIt"),P(),f=!1,g=!1,l=!0),console.log(I>=B.bottom,k,B.bottom),(!g&&!l&&z.keepInWrapper&&I>=B.bottom||k-x>B.bottom||I>=B.bottom&&k-x!=B.bottom)&&(console.log("forceBottom"),P(!0),f=!1,g=!0,l=!0);else{if(W=!0,H&&(P(),H=!1),z.scrollHide&&(w=m,f)){var s=parseInt(v.css("top")),n=m;if("up"===a){var S=c>-s?0:s+c;v.css("top",S+"px")}else if("down"===a&&s>-n){var S=c>n+s?-n:s-c;v.css("top",S+"px")}}(!f&&!g&&p>=B.top-x+w||g&&l&&b-x>=p)&&(console.log("sticktop"),C(),f=!0,g=!1,l=!1),(!g&&z.keepInWrapper||g&&!f&&k!=B.bottom)&&p>=B.bottom-d+w&&(console.log("forceBottom"),P(!0),f=!1,g=!0,l=!0)}(f||l||g)&&p<=B.top-x&&(console.log("unstick"),T()),(f||l||g)&&U(),(z.syncPosition&&f||l)&&j()},L=function(t){l&&P(),console.log("reize"),E(t)},Q=function(s,n){v=t(s),v.addClass("stuckElement"),n&&t.extend(!0,z,n),x=null!=z.topMargin?S():0,z.keepInWrapper?(""!==z.wrapperSelector&&(y=v.closest(z.wrapperSelector)),y.length||(y=v.offsetParent())):y=t("body"),z.zIndex&&v.css("z-index",z.zIndex),j&&A(),t(e).on("scroll.stickUp",E),t(o).on("resize.stickUp",L),E({target:e})};Q.call(this,s,n)};t.fn.stickUp=function(t){return this.each(function(){new s(this,t)})}}(jQuery,window,document);