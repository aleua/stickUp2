!function(s){var t,n=[],o=[],r=0,a="",e="",i="",p=null,c=0,l=0,u=0,d=0;s(window).scroll(function(){var t=s(this).scrollTop();a=t>r?"down":"up",r=t}),s.fn.stickUp=function(n){s(this).addClass("stuckMenu");var r=0;if(null!=n){for(var a in n.parts)n.parts.hasOwnProperty(a)&&(o[r]=n.parts[r],r++);0==r&&console.log("error:needs arguments"),e=n.itemClass,i=n.itemHover,null!=n.topMargin?"auto"==n.topMargin?d=parseInt(s(".stuckMenu").css("margin-top")):isNaN(n.topMargin)&&n.topMargin.search("px")>0?d=parseInt(n.topMargin.replace("px","")):isNaN(parseInt(n.topMargin))?(console.log("incorrect argument, ignored."),d=0):d=parseInt(n.topMargin):d=0,p=s("."+e).size()}c=parseInt(s(this).height()),l=parseInt(s(this).css("margin-bottom")),u=parseInt(s(this).next().closest("div").css("margin-top")),t=parseInt(s(this).offset().top)},s(document).on("scroll",function(){function r(t){var r=.4*s("#"+o[t]).height(),a=n[t]-r;g>a?(s("."+e).removeClass(i),s("."+e+":eq("+t+")").addClass(i)):50>g&&(s("."+e).removeClass(i),s("."+e+":eq(0)").addClass(i))}var g=parseInt(s(document).scrollTop());if(null!=p)for(var f=0;p>f;f++)n[f]=s("#"+o[f]).offset().top,"down"==a&&g>n[f]-50&&g<n[f]+50&&(s("."+e).removeClass(i),s("."+e+":eq("+f+")").addClass(i)),"up"==a&&r(f);if(g+d>t){var v=s(".stuckMenu");v.addClass("isStuck"),v.next().closest("div").css({"margin-top":c+l+u+"px"},10),v.css("position","fixed"),s(".isStuck").css({top:"0px"},10,function(){})}if(t>g+d){var v=s(".stuckMenu");v.removeClass("isStuck"),v.next().closest("div").css({"margin-top":u+"px"},10),v.css("position","relative")}})}(jQuery);