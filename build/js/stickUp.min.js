!function(t){function s(s){return"auto"==s.topMargin?parseInt(t(".stuckMenu").css("margin-top")):isNaN(s.topMargin)&&s.topMargin.search("px")>0?parseInt(s.topMargin.replace("px","")):isNaN(parseInt(s.topMargin))?(console.log("incorrect argument, ignored."),0):parseInt(s.topMargin)}function n(s){console.log(s.target);var n=t(s.target).scrollTop();p=n>c?"down":"up",c=n}function o(){function s(s){var o=.4*t("#"+i[s]).height();n>e[s]-o?r(s):50>n&&r(0)}var n=parseInt(t(document).scrollTop());if(null!=g&&i.length>0)for(var o=0;g>o;o++)e[o]=t("#"+i[o]).offset().top,"down"==p&&n>e[o]-50&&n<e[o]+50&&r(o),"up"==p&&s(o,e[o]);if(n+m>a){var c=t(".stuckMenu");c.addClass("isStuck").next().closest("div").css({"margin-top":f+v+d+"px"},10),c.css("position","fixed"),t(".isStuck").css({top:"0px"},10,function(){})}if(a>n+m){var c=t(".stuckMenu");c.removeClass("isStuck").next().closest("div").css({"margin-top":d+"px"},10),c.css("position","relative")}}function r(s){t("."+l).removeClass(u),t("."+l+":eq("+s+")").addClass(u)}var a,e=[],i=[],c=0,p="",l="",u="",g=null,f=0,v=0,d=0,m=0;t.fn.stickUp=function(n){var o=t(this);o.addClass("stuckMenu");var r=0;if(null!=n){var e=n.parts;for(var c in e)e.hasOwnProperty(c)&&(i[r]=e[r],r++);l=n.itemClass,u=n.itemHover,m=null!=n.topMargin?s(n):0,g=t("."+l).size()}f=parseInt(o.height()),v=parseInt(o.css("margin-bottom")),d=parseInt(o.next().closest("div").css("margin-top")),a=parseInt(o.offset().top)},t(window).on("scroll",n),t(document).on("scroll",o)}(jQuery);