!function(t,s,e){var n=function(n,r){var i,o=[],a=[],c=0,p="",u="",l="",f=null,g=!1,v=0,d=t(),h=0,m=0,M=0,k=t('<div style="margin:0"></div>'),C={scrollHide:!0},w=function(s){return"auto"==s.topMargin?parseInt(t(".stuckMenu").css("margin-top")):isNaN(s.topMargin)&&s.topMargin.search("px")>0?parseInt(s.topMargin.replace("px","")):isNaN(parseInt(s.topMargin))?(console.log("incorrect argument, ignored."),0):parseInt(s.topMargin)},x=function(e){function n(s){var e=.4*t("#"+a[s]).height();r>o[s]-e?H(s):50>r&&H(0)}var r=t(e.target).scrollTop();if(p=r>=c?"down":"up",M=Math.abs(c-r),c=r,g||(v=parseInt(d.outerHeight(!0)),i=parseInt(d.offset().top)),null!=f&&a.length>0)for(var u=0;f>u;u++)o[u]=t("#"+a[u]).offset().top,"down"==p&&r>o[u]-50&&r<o[u]+50&&H(u),"up"==p&&n(u,o[u]);if(C.scrollHide&&(m=d.outerHeight(),g)){var l=parseInt(d.css("top")),w=d.outerHeight();if("up"===p){var x=M>-l?0:l+M;d.css("top",x+"px")}else if("down"===p&&l>-w){var x=M>w+l?-w:l-M;d.css("top",x+"px")}}r+h>i+m&&!d.hasClass("isStuck")&&s.requestAnimationFrame(function(){g=!0,d.before(k.css("height",d.outerHeight())),d.addClass("isStuck");var t=-m;d.css({position:"fixed",top:t+"px"})}),i>r+h&&d.hasClass("isStuck")&&s.requestAnimationFrame(function(){k.remove(),d.removeClass("isStuck").css({position:"relative",top:""}),g=!1})},H=function(s){t("."+u).removeClass(l),t("."+u+":eq("+s+")").addClass(l)},I=function(s,n){d=t(s),d.addClass("stuckMenu");var r=0;if(n){t.extend(!0,C,n);var i=C.parts;for(var o in i)i.hasOwnProperty(o)&&(a[r]=i[r],r++);u=C.itemClass,l=C.itemHover,h=null!=C.topMargin?w(C):0,f=t("."+u).size()}t(e).on("scroll.stickUp",x),x({target:e})};I.call(this,n,r)};t.fn.stickUp=function(t){return this.each(function(){new n(this,t)})}}(jQuery,window,document);