!function(t,o,e){var s=function(s,n){var i,r=0,p=0,a="",c=0,f=!1,l=!1,g=!1,m=0,u=0,d=0,h=0,I=0,b=0,k=t(),v=0,x=0,w=!1,W=!1,M=t('<div style="margin-top:0;margin-bottom:0; padding:0"></div>'),y=t(),H={top:0,bottom:0,custom:[]},B={scrollHide:!1,topMargin:"auto",keepInWrapper:!1,wrapperSelector:"",zIndex:99,syncPosition:!1},z=function(){return"auto"===B.topMargin?parseInt(k.css("marginTop")):isNaN(B.topMargin)&&B.topMargin.search("px")>0?parseInt(B.topMargin.replace("px","")):isNaN(parseInt(B.topMargin))?(console.log("incorrect argument, ignored."),0):parseInt(B.topMargin)},S=function(){M.remove(),k.removeClass("isStuck").css({maxWidth:"",marginTop:"",marginLeft:"",marginRight:"",position:"",top:"",left:"",right:"",bottom:"",width:""}),f=!1,l=!1,g=!1,B.syncPosition&&j()},T=function(t){k.before(M.css("height",u));var o=M.offsetParent();if(t)var e=y.offset().top+y.outerHeight()-o.offset().top-u-v-parseInt(y.css("paddingBottom"));console.log(k.offset().top),k.css({marginTop:v,position:"absolute",bottom:"",left:M.position().left,top:t?e:k.offset().top-o.offset().top-v})},P=function(){f=!0,k.before(M.css("height",u)),k.addClass("isStuck");var t=-x;k.css({marginTop:v,position:"fixed",top:t+"px",left:"",right:"",bottom:""})},C=function(){k.before(M.css("height",u)),k.addClass("isStuck");var t=-x;k.css({marginTop:v,position:"fixed",top:"",left:"",right:"",bottom:t})},N=function(){M.width()!==k.outerWidth()&&k.outerWidth(M.outerWidth())},U=function(){i=M.offset().left,i!==k.offset().left,k.offset({left:i})},j=function(){M.css({"margin-left":k.css("margin-left"),"margin-right":k.css("margin-left")}),k.css({"margin-left":M.css("margin-left"),"margin-right":M.css("margin-right")})},A=function(e){if(p=t(e.target).scrollTop(),a=p>=r?"down":"up",c=Math.abs(r-p),d=t(o).outerHeight(),h=p+d,r=p,I=k.offset().top,m=parseInt(k.outerHeight()+v)+parseInt(k.css("marginBottom")),f||g||l||(u=parseInt(k.outerHeight(!0)),H.top=l||g?parseInt(M.offset().top):parseInt(k.offset().top),i=parseInt(k.offset().left)+5),H.bottom=B.keepInWrapper?y.offset().top+y.outerHeight()-parseInt(y.css("paddingBottom")):t("body").outerHeight().top-t("body").css("paddingBottom"),b=k.offset().top+u,m>d)W=!0,w&&(T(),w=!1),g&&"up"===a&&I-v>=p&&(console.log("sticktop"),P(),f=!0,l=!1,g=!1),!f&&!l&&(!B.keepInWrapper||B.keepInWrapper&&h<=H.bottom)&&h>=b&&(console.log("stickAtBottom"),C(),l=!0,f=!0,g=!1),(!g&&f&&l&&"up"===a||!g&&f&&!l&&"down"===a&&b>=h)&&(console.log("holdIt"),T(),f=!1,l=!1,g=!0),(!l&&!g&&B.keepInWrapper&&h>=H.bottom||b>H.bottom||h>=H.bottom&&b<H.bottom)&&(console.log("forceBottom"),T(!0),f=!1,l=!0,g=!0);else{if(w=!0,W&&(T(),W=!1),B.scrollHide&&(x=m,f)){var s=parseInt(k.css("top")),n=m;if("up"===a){var z=c>-s?0:s+c;k.css("top",z+"px")}else if("down"===a&&s>-n){var z=c>n+s?-n:s-c;k.css("top",z+"px")}}(!f&&!l&&p>=H.top-v+x||l&&g&&I-v>=p)&&(console.log("sticktop"),P(),f=!0,l=!1,g=!1),!l&&B.keepInWrapper&&p>=H.bottom-u-v+x&&(console.log("forceBottom"),T(!0),f=!1,l=!0,g=!0)}(f||g||l)&&p<=H.top-v&&(console.log("unstick"),S()),(f||g||l)&&N(),(B.syncPosition&&f||g)&&U()},E=function(t){g&&T(),console.log("reize"),A(t)},L=function(s,n){k=t(s),k.addClass("stuckElement"),n&&t.extend(!0,B,n),v=null!=B.topMargin?z():0,B.keepInWrapper?(""!==B.wrapperSelector&&(y=k.closest(B.wrapperSelector)),y.length||(y=k.offsetParent())):y=t("body"),B.zIndex&&k.css("z-index",B.zIndex),U&&j(),t(e).on("scroll.stickUp",A),t(o).on("resize.stickUp",E),A({target:e})};L.call(this,s,n)};t.fn.stickUp=function(t){return this.each(function(){new s(this,t)})}}(jQuery,window,document);