jQuery(function(s){s(document).ready(function(){var t,n=[],o=[],e=0,r="",a="",i="",p=null,c=0,l=0,u=0,d=0;s(window).scroll(function(){var t=s(this).scrollTop();r=t>e?"down":"up",e=t}),s.fn.stickUp=function(n){s(this).addClass("stuckMenu");var e=0;if(null!=n){for(var r in n.parts)n.parts.hasOwnProperty(r)&&(o[e]=n.parts[e],e++);0==e&&console.log("error:needs arguments"),a=n.itemClass,i=n.itemHover,null!=n.topMargin?"auto"==n.topMargin?d=parseInt(s(".stuckMenu").css("margin-top")):isNaN(n.topMargin)&&n.topMargin.search("px")>0?d=parseInt(n.topMargin.replace("px","")):isNaN(parseInt(n.topMargin))?(console.log("incorrect argument, ignored."),d=0):d=parseInt(n.topMargin):d=0,p=s("."+a).size()}c=parseInt(s(this).height()),l=parseInt(s(this).css("margin-bottom")),u=parseInt(s(this).next().closest("div").css("margin-top")),t=parseInt(s(this).offset().top)},s(document).on("scroll",function(){function e(t){var e=.4*s("#"+o[t]).height(),r=n[t]-e;f>r?(s("."+a).removeClass(i),s("."+a+":eq("+t+")").addClass(i)):50>f&&(s("."+a).removeClass(i),s("."+a+":eq(0)").addClass(i))}var f=parseInt(s(document).scrollTop());if(null!=p)for(var g=0;p>g;g++)n[g]=s("#"+o[g]).offset().top,"down"==r&&f>n[g]-50&&f<n[g]+50&&(s("."+a).removeClass(i),s("."+a+":eq("+g+")").addClass(i)),"up"==r&&e(g);if(f+d>t){var v=s(".stuckMenu");v.addClass("isStuck"),v.next().closest("div").css({"margin-top":c+l+u+"px"},10),v.css("position","fixed"),s(".isStuck").css({top:"0px"},10,function(){})}if(t>f+d){var v=s(".stuckMenu");v.removeClass("isStuck"),v.next().closest("div").css({"margin-top":u+"px"},10),v.css("position","relative")}})})});